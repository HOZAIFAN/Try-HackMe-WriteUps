# UltraTech - TryHackMe Write-Up

![TryHackMe](https://img.shields.io/badge/TryHackMe-UltraTech-red)
![Difficulty](https://img.shields.io/badge/Difficulty-Medium-orange)
![Status](https://img.shields.io/badge/Status-Completed-success)

## ğŸ“‹ Table of Contents

- [Overview](#overview)
- [Room Information](#room-information)
- [Skills Required](#skills-required)
- [Skills Learned](#skills-learned)
- [Tools Used](#tools-used)
- [Methodology](#methodology)
- [Write-Up Structure](#write-up-structure)
- [Key Findings](#key-findings)
- [Attack Chain](#attack-chain)
- [Files Included](#files-included)
- [How to Use](#how-to-use)
- [Author](#author)

## ğŸ¯ Overview

This repository contains a comprehensive write-up for the **UltraTech** room on TryHackMe. UltraTech is a medium-difficulty penetration testing challenge that simulates a real-world security assessment of a web application. The room focuses on enumeration, web exploitation, command injection, and privilege escalation techniques.

## ğŸ“Š Room Information

| Property | Value |
|----------|-------|
| **Platform** | TryHackMe |
| **Room Name** | UltraTech |
| **Difficulty** | Medium |
| **Room Type** | Grey-box Penetration Test |
| **Target IP** | 10.48.191.21 |
| **Completion Date** | February 11, 2026 |

## ğŸ”§ Skills Required

- Basic Linux command line knowledge
- Understanding of network protocols
- Familiarity with web application architecture
- Basic penetration testing concepts
- Knowledge of common vulnerability types

## ğŸ“š Skills Learned

- **Enumeration Techniques**
  - Port scanning with Nmap
  - Service version detection
  - Directory enumeration
  - Web application analysis

- **Web Exploitation**
  - JavaScript code analysis
  - API endpoint discovery
  - OS Command Injection exploitation
  - Database extraction techniques

- **Cryptography & Password Cracking**
  - Hash identification
  - Password cracking with John the Ripper
  - Understanding weak hashing algorithms

- **Privilege Escalation**
  - Docker group exploitation
  - Container escape techniques
  - Filesystem mounting attacks
  - GTFOBins exploitation

## ğŸ› ï¸ Tools Used

| Tool | Purpose |
|------|---------|
| **Nmap** | Port scanning and service enumeration |
| **Dirb** | Directory brute-forcing |
| **Gobuster** | Web content discovery |
| **cURL** | HTTP request manipulation |
| **hash-identifier** | Hash type identification |
| **John the Ripper** | Password cracking |
| **SSH** | Remote access |
| **Docker** | Container manipulation for privilege escalation |

## ğŸ¯ Methodology

This penetration test followed a systematic approach:

### 1. Reconnaissance
- Comprehensive port scanning
- Service version detection
- Operating system identification

### 2. Enumeration
- Directory enumeration on multiple ports
- JavaScript file analysis
- API endpoint discovery

### 3. Exploitation
- OS Command Injection via vulnerable API endpoint
- Database file extraction
- Credential harvesting

### 4. Post-Exploitation
- Password hash cracking
- SSH authentication
- Initial system enumeration

### 5. Privilege Escalation
- Docker group identification
- Container-based privilege escalation
- Root access achievement

## ğŸ“ Write-Up Structure

The complete write-up is organized into the following sections:

1. **Overview** - Introduction and scenario description
2. **Enumeration** - Port scanning and service discovery
3. **Web Application Discovery** - Directory enumeration and code analysis
4. **Exploitation** - Command injection vulnerability exploitation
5. **Gaining Initial Access** - SSH authentication and initial foothold
6. **Privilege Escalation** - Docker-based privilege escalation
7. **Key Lessons Learned** - Security takeaways and best practices
8. **Conclusion** - Summary and final thoughts

## ğŸ” Key Findings

### Vulnerabilities Identified

1. **OS Command Injection (Critical)**
   - **Location**: `/ping` endpoint on port 8081
   - **Impact**: Remote code execution
   - **Evidence**: Successfully executed system commands via URL parameter manipulation

2. **Weak Password Hashing (High)**
   - **Algorithm**: MD5 (deprecated and easily crackable)
   - **Impact**: Credential compromise
   - **Evidence**: Password hash cracked in seconds

3. **Insecure Docker Configuration (Critical)**
   - **Issue**: User in docker group with unrestricted access
   - **Impact**: Privilege escalation to root
   - **Evidence**: Successfully mounted host filesystem and achieved root access

4. **Information Disclosure (Medium)**
   - **Issue**: Database file accessible via command injection
   - **Impact**: Credential exposure
   - **Evidence**: Retrieved user credentials from SQLite database

## ğŸ”— Attack Chain

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Nmap Scan     â”‚
â”‚  (Port 21,22,   â”‚
â”‚  8081, 31331)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Web Enum       â”‚
â”‚  (dirb/         â”‚
â”‚   gobuster)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ JS Code         â”‚
â”‚ Analysis        â”‚
â”‚ (api.js)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Command         â”‚
â”‚ Injection       â”‚
â”‚ (/ping?ip=)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Database        â”‚
â”‚ Extraction      â”‚
â”‚ (utech.db)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Password        â”‚
â”‚ Cracking        â”‚
â”‚ (John)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SSH Access      â”‚
â”‚ (r00t user)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Docker Group    â”‚
â”‚ Discovery       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Privilege       â”‚
â”‚ Escalation      â”‚
â”‚ (Root Access)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ Files Included

```
.
â”œâ”€â”€ README.md                    # This file
â”œâ”€â”€ ultratech_writeup.md         # Detailed markdown write-up
â”œâ”€â”€ UltraTech_WriteUp.pdf       # Professional PDF version
â””â”€â”€ screenshots/                 # Evidence screenshots
    â”œâ”€â”€ Nmap_Scan.png           # Port scan results
    â”œâ”€â”€ Hidden_Directories.png   # Directory enumeration
    â”œâ”€â”€ Login_Page.png          # Web application interface
    â”œâ”€â”€ Curl_Browser.png        # Ping endpoint testing
    â”œâ”€â”€ Command_Injection.png   # Command injection exploitation
    â””â”€â”€ Permissions.png         # Docker group permissions
```

## ğŸ“– How to Use

### Reading the Write-Up

1. **Markdown Version** (`ultratech_writeup.md`)
   - Best for viewing on GitHub
   - Easy to copy code snippets
   - Searchable and indexable

2. **PDF Version** (`UltraTech_WriteUp.pdf`)
   - Professional formatting
   - Ideal for printing or archiving
   - Portable across platforms

### Following Along

If you want to try the room yourself:

1. Sign up for TryHackMe: https://tryhackme.com
2. Navigate to the UltraTech room
3. Deploy the target machine
4. Follow the methodology outlined in the write-up
5. Use the screenshots as reference points

âš ï¸ **Note**: Try to solve the room yourself before reading the complete write-up!

## ğŸ” Security Recommendations

Based on the vulnerabilities found, here are key recommendations:

### For Developers

1. **Input Validation**
   - Never execute user input directly in system commands
   - Use parameterized queries and safe APIs
   - Implement strict input sanitization

2. **Password Security**
   - Use modern hashing algorithms (bcrypt, Argon2)
   - Implement salting and key stretching
   - Enforce strong password policies

3. **Access Control**
   - Apply principle of least privilege
   - Regularly audit user permissions
   - Restrict sensitive group memberships

### For System Administrators

1. **Docker Security**
   - Avoid adding users to docker group
   - Use rootless Docker when possible
   - Implement container security policies
   - Monitor container activity

2. **Service Hardening**
   - Disable unnecessary services
   - Keep systems updated
   - Implement network segmentation

## ğŸ“ Learning Outcomes

After completing this room, you will understand:

- How to perform comprehensive network enumeration
- Techniques for discovering and exploiting command injection vulnerabilities
- Methods for extracting and cracking password hashes
- Docker-based privilege escalation techniques
- The importance of secure configuration and least privilege principles

## ğŸ† Achievements

- âœ… Successfully enumerated all services
- âœ… Discovered and exploited command injection vulnerability
- âœ… Extracted credentials from database
- âœ… Cracked password hash
- âœ… Gained initial access via SSH
- âœ… Escalated privileges to root
- âœ… Retrieved root SSH key

## ğŸ“š References

- [TryHackMe Platform](https://tryhackme.com)
- [OWASP Top 10](https://owasp.org/www-project-top-ten/)
- [GTFOBins](https://gtfobins.github.io/)
- [Nmap Reference Guide](https://nmap.org/book/man.html)
- [Docker Security Best Practices](https://docs.docker.com/engine/security/)

## ğŸ¤ Contributing

If you find any errors or have suggestions for improvement:

1. Open an issue describing the problem
2. Submit a pull request with corrections
3. Share additional insights or alternative methods

## âš–ï¸ Disclaimer

This write-up is for educational purposes only. The techniques described should only be used in authorized penetration testing engagements or controlled lab environments. Unauthorized access to computer systems is illegal.

## ğŸ‘¤ Author

**Japi**

- Platform: TryHackMe
- Focus: Cybersecurity, Penetration Testing, CTF Challenges
- Completion Date: February 11, 2026

---

## ğŸ“Š Statistics

| Metric | Value |
|--------|-------|
| Time to Complete | ~2 hours |
| Vulnerabilities Found | 4 |
| Tools Used | 8 |
| Commands Executed | 20+ |
| Flags Captured | All |

---

## ğŸŒŸ Acknowledgments

- **TryHackMe** for providing excellent learning platforms
- **Room Creator (lp1)** for designing this realistic scenario
- The **cybersecurity community** for sharing knowledge and tools

---

**Last Updated**: February 11, 2026

**Status**: âœ… Complete

---

*If you found this write-up helpful, please consider giving it a star! â­*
